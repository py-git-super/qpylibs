## 以太网

### dm9051

详见 peripheral\Ethernet\DM9051以太网卡在QuecPython上的测试流程.pdf

注：需含有DM9051以太网卡驱动的EC600SCN_LB QuecPython 固件包 。

**引用：**

```python
import ethernet
```

**实例化参数：**

| 名称      | 必填 | 类型  | 说明                          |
| --------- | ---- | ----- | ----------------------------- |
| mac       | 是   | bytes | 6字节长度的mac地址            |
| ip_addr   | 是   | str   | 以太网卡的ip地址              |
| mask_addr | 是   | str   | 以太网卡的子网掩码地址，可' ' |
| gw_addr   | 是   | str   | 以太网卡的网关地址，可' '     |

```python
dm9051 = ethernet.DM9051(b'\x12\x34\x56\x78\x9a\xbc', '192.168.31.115', '', '')  
```

​	上述语句创建完成以太网卡对象后，网卡已经注册成功，但是处于禁用状态，需要调用 dm9051.set_up() 方法启用网卡 。

**接口函数：**

l **set_dns(primary_addr， secondary_addr )**

​	设置dns服务器地址。推荐在网卡禁用状态下配置（对象创建后，网卡已经是禁用状态）  

​	注意：如果知道局域网内的DNS服务器地址，推荐设置为局域网内的DNS服务器地址；如果不知道，可将主辅地址分别设置为8.8.8.8和114.114.114.114

参数：

| 名称           | 必填 | 类型 | 说明            |
| -------------- | ---- | ---- | --------------- |
| primary_addr   | 是   | str  | DNS服务器主地址 |
| secondary_addr | 是   | str  | DNS服务器辅地址 |

返回值：

​       None

l **set_up()**

​	启动网卡，至此，以太网卡具备了上网的能力，可以调用socket类的接口进行网络通信了 。

参数：

​    无

返回值：

​      0 - 成功

​	  负数 - 失败

l **set_addr(ip_addr, mask_addr, gw_addr  )**

​	在任何时候需要重新设置IP地址时，可调用此接口设置IP地址  。推荐在网卡禁用状态下配置（对象创建后，网卡已经是禁用状态）

参数：

| 名称      | 必填 | 类型 | 说明                          |
| --------- | ---- | ---- | ----------------------------- |
| ip_addr   | 是   | str  | 以太网卡的ip地址              |
| mask_addr | 是   | str  | 以太网卡的子网掩码地址，可' ' |
| gw_addr   | 是   | str  | 以太网卡的网关地址，可' '     |

返回值：

​       0 - 成功

​	  负数 - 失败

l **set_down()**

​	禁用网卡

参数：

​    无

返回值：

​      0 - 成功

​	  负数 - 失败